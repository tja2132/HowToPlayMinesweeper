{% extends "layout.html" %}

{% block content %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    let currentIndex = 0;
    let lesson = {{ result | tojson }};
    let imgs = lesson.img;

    function updateImageDisplay() {
        // Update the source of the image element
        $("#imageDisplay").attr('src', imgs[currentIndex]);
    }

    function displayLesson() {
        let id = lesson.id || 1;
        let title = lesson.title || "Lesson Title";

        $(".lesson-title").text(`Lesson ${id}: ${title}`);
        updateImageDisplay(); // Update image when the page loads
    }

    // Next button functionality
    $("#nextBtn").click(function() {
        currentIndex = (currentIndex + 1) % imgs.length; // Cycle forward through the images
        updateImageDisplay();
    });

    // Previous button functionality
    $("#prevBtn").click(function() {
        currentIndex = (currentIndex - 1 + imgs.length) % imgs.length; // Cycle backward through the images
        updateImageDisplay();
    });

    displayLesson();
});
</script>

<div class="container">
    <div class="maincontent">
        <div>
            <button id="prevBtn">Previous</button>
            <button id="nextBtn">Next</button>
        </div>
        <img id="imageDisplay" alt="Lesson Image">
    </div>
</div>
{% endblock %}
